## Docker笔记（四）Docker搭建开发环境

### 一、端口映射

容器化技术中，每个容器都有自己的「**网络命名空间**」，因此它们有自己的 **IP 地址**和**端口空间**，所以容器内创建的**服务**监听的**端口**==是容器自己的**端口**，而不是宿主机的**端口**==

为了让**「宿主机」**或其他网络中的机器能够访问到「**容器**」内的服务，通常会将「**容器**」的**端口**映射（或称为绑定）到**「宿主机」**的**端口**，这样，当**「宿主机」**上的某个**端口**收到请求时，这个请求会被转发到**「容器」**的相应**端口**，这个就叫做**端口映射**

- 例如，假设在容器内运行一个 **Web 服务器**，它在 80 端口监听 **HTTP 请求**，但这个 80 端口是在容器的网络命名空间内的，它和宿主机的 80 端口是完全不同的，如果想从宿主机或者外部网络访问这个 **Web 服务器**，就需要设置一个端口映射

  > 在 **Docker** 中，可以在运行容器时使用 `-p` 参数来设置端口映射
  >
  > 例如，`docker run -p 8080:80 my-web-app` 命令会启动一个 **my-web-app** 容器，并将容器的 80 端口映射到宿主机的 8080端口，这样，任何发送到宿主机 8080 端口的请求都会被转发到容器的 80 端口

  









按开发的模式来说，这样是存在问题的。比如：

- 将代码打包进镜像中，每次修改代码都必须要`重新构建镜像`
- 打包出来的镜像指包含node环境，`缺少开发时需要的依赖`

我们希望的是，`通过容器来提供开发时需要的依赖，然后通过vscode修改的代码实时跑在容器中`。

