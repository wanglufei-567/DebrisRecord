## Arrayç›¸å…³

### ä¸€ã€new Array()ä½¿ç”¨

åœ¨JSä¸­é™¤äº†ä½¿ç”¨å­—é¢é‡çš„å½¢å¼ç›´æ¥åˆ›å»ºæ•°ç»„ä¹‹å¤–ï¼Œè¿˜å¯ä»¥é€šè¿‡å†…ç½®çš„Arrayæ„é€ å‡½æ•°æ¥åˆ›å»º

ä½¿ç”¨æ–¹å¼ï¼š

```js
const arr1 = new Array();
// æˆ–
const arr2 = Array();
```

ä¸ºä½•å¯ä»¥çœç•¥newå…³é”®å­—

```js
// æ„é€ å‡½æ•°é‡Œè¿™æ®µé€»è¾‘å¯ä»¥å®ç°
function Array()
{
   // å¦‚æœç”¨æˆ·æ²¡æœ‰ä½¿ç”¨newè¿›è¡Œè°ƒç”¨åˆ™é™é»˜è°ƒç”¨new
   if ( !(this instanceof Array) )
      return new Array();

   // constructor logic follows...
}
```

#### 1.1ã€new Array() åšäº†ä»€ä¹ˆ

å½“æˆ‘ä»¬ä½¿ç”¨Arrayåˆ›å»ºä¸€ä¸ªæŒ‡å®šé•¿åº¦çš„æ•°ç»„æ—¶`new Array(length)` ï¼Œå…¶å®`Array(length)` ä»…ä»…å°±æ˜¯ç»™ç”Ÿæˆçš„æ–°æ•°ç»„å¯¹è±¡è®¾äº†ä¸ª `length` å±æ€§å¹¶ä¸”èµ‹å€¼è€Œå·²;

è€Œè‹¥æˆ‘ä»¬ä½¿ç”¨`[undefined,undefined]`çš„å½¢å¼åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º2çš„æ•°ç»„ï¼Œåˆ™æ˜¯ç»™ç”Ÿæˆçš„æ•°ç»„å¯¹è±¡è®¾ç½®äº†è¿™äº›å±æ€§`â€0â€œï¼šundefinedï¼Œâ€1â€œï¼šundefinedï¼Œâ€lengthâ€œï¼š2`
<!--å¦å¤–Array(5)[99]===undefined,è¿™ç›¸å½“äºæ˜¯è®¿é—®äº†ä¸€ä¸ªå¯¹è±¡çš„æœªå£°æ˜çš„å±æ€§-->

- **ä¸ºä»€ä¹ˆ`Array(length)`ä¸å¯ä»¥ä½¿ç”¨mapæ–¹æ³•,è€Œ`[undefined]`å¯ä»¥ä½¿ç”¨?**

  **map**æ–¹æ³•æ˜¯**Array**åŸå‹ä¸Šçš„ä¸€ä¸ªæ–¹æ³•`Array.prototype.map(callbackfn [ , thisArg ])`ï¼›å½“æ‰§è¡Œ**map** å‡½æ•°è¿›è¡Œéå†æ•°ç»„æ—¶ï¼Œä¼šå…ˆé€šè¿‡ **HasProperty**æ–¹æ³•è¿›è¡Œæ£€æŸ¥ï¼Œè‹¥**map**è¿›è¡Œéå†çš„è¯é¦–å…ˆè¦æœ‰è¿™ä¸ªå±æ€§ğŸ‘‡

  ```js
  new Array(2).hasOwnProperty(0) // false
  [undefined, undefined].hasOwnProperty(0) // true
  
  // æ‰€ä»¥Array(len).map(callback)ä¸­çš„callback å…¶å®å°±æ²¡æ‰§è¡Œ
  new Array(2).map(e => console.log('hey~~')) // è¿™é‡Œä¸ä¼šæ‰“å°
  ```

- **ä¸ºä»€ä¹ˆ`let a = Array.apply( null ,{ length : 100 } )`ä¼šåˆ›å»ºä¸ª100é•¿åº¦æ•°ç»„ä¸”å±æ€§å€¼éƒ½æ˜¯undefinedï¼Ÿ**
  `apply` æ¥å—çš„ **argArray** ä¼šè¢«è¦æ±‚æ‰§è¡Œ**CreateListFromArrayLike**æ–¹æ³•ï¼Œç„¶åå®ƒåªä¼š**check**ä¸€ä¸‹æœ‰æ²¡æœ‰`length`å°±å¼€å§‹é€ä¸ªå¯¹`index` è°ƒç”¨ **[[Get]]** äº†ï¼Œ**[[Get]]** æœ€å·®å°±æ˜¯è¿”å› `undefined`

  æ‰€ä»¥æœ€åä¼šç”Ÿæˆè¿™ä¸ª100 `undefined` çš„**List**ä½œä¸ºå‚æ•°ç»™**Array**æ„é€ å‡½æ•°

