## å¸¸è§çš„æ•°æ®ç»“æ„

### ä¸€ã€å‰è¨€

åœ¨è®¡ç®—æœºç§‘å­¦ä¸­ï¼Œ**æ•°æ®ç»“æ„**ï¼ˆ**data structure**ï¼‰æ˜¯ä¸€ç§==**å­˜å‚¨**==å’Œ==**ç»„ç»‡**==æ•°æ®çš„æ–¹å¼ï¼Œç›®çš„æ˜¯ä¸ºäº†é«˜æ•ˆåœ°**==è®¿é—®==**å’Œ**==ä¿®æ”¹==**æ•°æ®ï¼Œæ•°æ®ç»“æ„çš„é€‰æ‹©å¯¹ç®—æ³•çš„æ•ˆç‡æœ‰å¾ˆå¤§çš„å½±å“ï¼Œå¯ä»¥æå¤§åœ°ä¼˜åŒ–ç¨‹åºçš„æ€§èƒ½

**æ•°æ®ç»“æ„**çš„ä¸»è¦åŒ…æ‹¬ï¼š**æ•°æ®å†…å®¹**ã€**æ•°æ®ä¹‹é—´å…³ç³»**ã€**æ•°æ®æ“ä½œæ–¹æ³•**

**æ•°æ®ç»“æ„**å…·æœ‰ä»¥ä¸‹è®¾è®¡ç›®æ ‡ï¼š

- ç©ºé—´å ç”¨å°½é‡å°‘ï¼Œä»¥èŠ‚çœè®¡ç®—æœºå†…å­˜ <!--æ•°æ®å†…å®¹ç›¸å…³-->
- æä¾›ç®€æ´çš„æ•°æ®è¡¨ç¤ºå’Œé€»è¾‘ä¿¡æ¯ï¼Œä»¥ä¾¿ç®—æ³•é«˜æ•ˆè¿è¡Œ <!--æ•°æ®ä¹‹é—´å…³ç³»ç›¸å…³-->
- æ•°æ®æ“ä½œå°½å¯èƒ½å¿«é€Ÿï¼Œæ¶µç›–æ•°æ®è®¿é—®ã€æ·»åŠ ã€åˆ é™¤ã€æ›´æ–°ç­‰æ“ä½œ <!--æ•°æ®æ“ä½œæ–¹æ³•ç›¸å…³-->

å¸¸ç”¨çš„**æ•°æ®ç»“æ„**ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ï¼š

1. **æ ˆï¼ˆStackï¼‰**ï¼šæ ˆæ˜¯ä¸€ç§**åè¿›å…ˆå‡º**ï¼ˆ**LIFO**ï¼‰çš„æ•°æ®ç»“æ„ï¼Œæ·»åŠ æˆ–åˆ é™¤å…ƒç´ éƒ½å‘ç”Ÿåœ¨åŒä¸€ç«¯ï¼Œè¿™ä¸€ç«¯è¢«ç§°ä¸ºæ ˆé¡¶

2. **é˜Ÿåˆ—ï¼ˆQueueï¼‰**ï¼šé˜Ÿåˆ—æ˜¯ä¸€ç§**å…ˆè¿›å…ˆå‡º**ï¼ˆ**FIFO**ï¼‰çš„æ•°æ®ç»“æ„ï¼Œæ–°å…ƒç´ åŠ åœ¨é˜Ÿåˆ—çš„å°¾éƒ¨ï¼Œåˆ é™¤å…ƒç´ å‘ç”Ÿåœ¨é˜Ÿåˆ—çš„å¤´éƒ¨

3. **é“¾è¡¨ï¼ˆLinked Listï¼‰**ï¼šé“¾è¡¨ä¹Ÿæ˜¯ä¸€ç§çº¿æ€§ç»“æ„ï¼Œä½†å…¶å…ƒç´ åœ¨å†…å­˜ä¸­ä¸æ˜¯è¿ç»­å­˜å‚¨çš„

   - æ¯ä¸ªå…ƒç´ ï¼ˆèŠ‚ç‚¹ï¼‰åŒ…å«æ•°æ®éƒ¨åˆ†å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆ

   - ==é“¾è¡¨å…è®¸åœ¨ä»»ä½•ä½ç½®é«˜æ•ˆåœ°æ’å…¥å’Œåˆ é™¤å…ƒç´ ==

     <!--é“¾è¡¨é€‚åˆåŠ¨æ€æ’å…¥å’Œåˆ é™¤å…ƒç´  O(1)ï¼Œä¸é€‚åˆæŸ¥æ‰¾å…ƒç´ O(n)-->
     
     <!--æ•°ç»„é€‚åˆæŸ¥æ‰¾å…ƒç´ O(1)ï¼Œä¸é€‚åˆåŠ¨æ€æ’å…¥å’Œåˆ é™¤å…ƒç´ O(n)ï¼Œè¿™é‡Œçš„æ•°ç»„å’Œ JS ä¸­çš„æ•°ç»„æœ‰ä¸€å®šåŒºåˆ«ï¼Œæ’å…¥å’Œåˆ é™¤æ“ä½œéœ€è¦ç§»åŠ¨åé¢å…ƒç´ çš„ä½ç½®-->

4. **äºŒå‰æ ‘ï¼ˆBinary Treeï¼‰**ï¼šäºŒå‰æ ‘æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘ç»“æ„ï¼ˆé€šå¸¸ä¸ºå·¦å­æ ‘å’Œå³å­æ ‘ï¼‰

   - ç‰¹æ®Šç±»å‹çš„äºŒå‰æ ‘ï¼Œå¦‚äºŒå‰æœç´¢æ ‘ã€AVLæ ‘ã€çº¢é»‘æ ‘ç­‰
   - æ”¯æŒé«˜æ•ˆçš„æ•°æ®æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤æ“ä½œ

5. **å›¾ï¼ˆGraphï¼‰**ï¼šå›¾æ˜¯ç”±èŠ‚ç‚¹ï¼ˆä¹Ÿç§°ä¸ºé¡¶ç‚¹ï¼‰å’Œè¾¹ç»„æˆçš„é›†åˆ

   - èŠ‚ç‚¹å¯èƒ½ä»£è¡¨æŸç§å®ä½“ï¼Œè¾¹åˆ™è¡¨ç¤ºèŠ‚ç‚¹é—´çš„å…³ç³»
   - å›¾å¯ä»¥æ˜¯æœ‰å‘çš„æˆ–æ— å‘çš„

### äºŒã€æ ˆ

æ ˆæ˜¯ä¸€ç§éµä»**==åè¿›åå‡º==**åŸåˆ™ï¼ˆ**LIFO, Last In First Out**ï¼‰çš„æœ‰åºé›†åˆï¼Œæ–°æ·»åŠ æˆ–å¾…åˆ é™¤çš„å…ƒç´ éƒ½ä¿å­˜åœ¨ç«™çš„åŒä¸€ç«¯ï¼Œç§°ä¸º**æ ˆé¡¶**ï¼Œå¦ä¸€ç«¯å°±ç§°ä¸º**æ ˆåº•**ï¼›åœ¨æ ˆé‡Œï¼Œæ–°å…ƒç´ éƒ½é è¿‘æ ˆé¡¶ï¼Œæ—§å…ƒç´ éƒ½é è¿‘æ ˆåº•ï¼Œè¿™æ„å‘³ç€æœ€åè¢«åŠ å…¥åˆ°æ ˆä¸­çš„å…ƒç´ ä¼šæœ€å…ˆè¢«ç§»é™¤

è¿™ç§ç‰¹æ€§ä½¿å¾—æ ˆéå¸¸é€‚åˆè§£å†³é—®é¢˜æ—¶è¿½è¸ªå…ƒç´ çš„**é¡ºåº**ï¼Œå¦‚åœ¨å‡½æ•°è°ƒç”¨ã€**æ’¤é”€æ“ä½œ**åœ¨ç¼–è¾‘å™¨ä¸­çš„åº”ç”¨ã€**æ‹¬å·åŒ¹é…**ç­‰åœºæ™¯ä¸­ <!--undo/redoï¼Œæ‹¬å·åŒ¹é…æŒºå¸¸è§-->

æ ˆçš„ä¸»è¦æ“ä½œåŒ…æ‹¬ï¼š

1. **Pushï¼ˆå‹æ ˆï¼‰**ï¼šå°†ä¸€ä¸ªå…ƒç´ æ·»åŠ åˆ°æ ˆé¡¶
2. **Popï¼ˆå¼¹æ ˆï¼‰**ï¼šç§»é™¤æ ˆé¡¶çš„å…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ 
3. **Top/Peekï¼ˆè®¿é—®æ ˆé¡¶å…ƒç´ ï¼‰**ï¼šè¿”å›æ ˆé¡¶çš„å…ƒç´ ä½†ä¸ç§»é™¤å®ƒ
4. **IsEmptyï¼ˆæ£€æŸ¥æ ˆç©ºï¼‰**ï¼šåˆ¤æ–­æ ˆæ˜¯å¦ä¸ºç©º
5. **Sizeï¼ˆæ ˆçš„å¤§å°ï¼‰**ï¼šè¿”å›æ ˆä¸­å…ƒç´ çš„æ•°é‡

ç”±äºæ ˆçš„è¿™äº›æ“ä½œé€šå¸¸éƒ½æ˜¯åœ¨æ ˆé¡¶è¿›è¡Œï¼Œå› æ­¤å®ƒä»¬çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(1)ï¼Œå³è¿™äº›æ“ä½œçš„æ‰§è¡Œæ—¶é—´ä¸ä¾èµ–äºæ ˆä¸­æ•°æ®çš„å¤šå°‘ï¼Œéå¸¸å¿«é€Ÿ

![æ ˆçš„å…ˆå…¥åå‡ºè§„åˆ™](https://raw.githubusercontent.com/wanglufei561/picture_repo/master/assets/stack_operations.png)

#### 2.1ã€åŸºäºæ•°ç»„å®ç°ä¸€ä¸ªæ ˆ

å…·ä½“å®ç°ğŸ‘‡ï¼š<!--æœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ç›´æ¥ä½¿ç”¨æ•°ç»„ï¼Œæ•°ç»„æœ¬èº«å°±å…·å¤‡push,pop æ–¹æ³•ï¼Œå…¶ä»–æ ˆæ“ä½œï¼Œæ•°ç»„ä¹Ÿå¾ˆå®¹æ˜“å®ç°-->

```js
// åŸºäºæ•°ç»„çš„æ ˆ
class ArrayBasedStack {
    constructor() {
        this._elements = []
    }

    // æ·»åŠ å…ƒç´ åˆ°æ ˆé¡¶
    push(element) {
        this._elements.push(element)
    }

    // ä»æ ˆé¡¶ç§»å‡ºå…ƒç´ 
    pop() {
        return this._elements.pop()
    }

    // è·å–æ ˆé¡¶å…ƒç´ 
    peek() {
        return this._elements[this._elements.length - 1]
    }

    // æ£€æŸ¥æ ˆé¡¶æ˜¯å¦ä¸ºç©º
    isEmpty() {
        return this._elements.length === 0
    }

    // è·å–æ ˆä¸­å…ƒç´ ä¸ªæ•°
    size() {
        return this._elements.length
    }

    // æ¸…ç©ºæ ˆ
    clear() {
        this._elements = []
    }
}
```

#### 2.2ã€åŸºäº JS å¯¹è±¡å®ç°ä¸€ä¸ªæ ˆ

åˆ›å»ºä¸€ä¸ª **Stack** æœ€ç®€å•çš„æ–¹å¼æ˜¯ä½¿ç”¨ä¸€ä¸ªæ•°ç»„æ¥å­˜å‚¨å…¶å…ƒç´ ï¼Œä½†åŒæ ·éœ€è¦è¯„ä¼°å¦‚ä½•æ“ä½œå…ƒç´ æ˜¯æœ€é«˜æ•ˆçš„

åœ¨ä½¿ç”¨æ•°ç»„æ—¶ï¼Œå¤§éƒ¨åˆ†æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä½ æ˜¯ $O(n)$ï¼Œæœ€åçš„æƒ…å†µä¸‹éœ€è¦è¿­ä»£æ•´ä¸ªæ•°ç»„çš„é•¿åº¦æ‰èƒ½æ‰¾åˆ°æˆ‘ä»¬æƒ³è¦çš„é‚£ä¸ªå…ƒç´  <!--å…¶å®ç”¨å¯¹è±¡å®ç°ä¹Ÿæœ‰è¿™ç§é—®é¢˜-->

ä½¿ç”¨ **JS** å¯¹è±¡æ¥å­˜å‚¨å…ƒç´ ï¼Œå¯ä»¥å ç”¨æ›´å°‘çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”ä»ç„¶ä¿è¯æ‰€æœ‰å…ƒç´ æŒ‰ç…§æˆ‘ä»¬çš„éœ€è¦è¿›è¡Œæ’åº

å…·ä½“å®ç°ğŸ‘‡ï¼š

```js
class ObjectBasedStack {
    constructor() {
        this._count = 0
        this._elements = {}
    }

    // æ·»åŠ å…ƒç´ åˆ°æ ˆé¡¶
    push(element) {
        this._elements[this._count] = element
        this._count++
    }

    // æ£€æŸ¥æ ˆé¡¶æ˜¯å¦ä¸ºç©º
    isEmpty() {
        return this._count === 0
    }

    // è·å–æ ˆä¸­å…ƒç´ ä¸ªæ•°
    size() {
        return this._count
    }

    // ä»æ ˆé¡¶ç§»å‡ºå…ƒç´ 
    pop() {
        if (this.isEmpty()) return
        this._count--
        const result = this._elements[this._count]
        delete this._elements[this._count]
        return result
    }

    // è·å–æ ˆé¡¶å…ƒç´ 
    peek() {
        if (this.isEmpty()) return
        return this._elements[this._count - 1]
    }

    // æ¸…ç©ºæ ˆ
    clear() {
        this._count = 0
        this._elements = {}
    }

    // å±•ç¤ºæ ˆä¸­æ‰€æœ‰å…ƒç´ 
    toString(){
      if(this.isEmpty()) return ''
      let objString = `${this._elements[0]}`
      for(let i = 1; i < this._count; i++) {
        objString=`${objString},${this._elements[i]}`
      }
      return objString
    }
}
```

ä½¿ç”¨ç¤ºä¾‹ï¼š

```js
// å®é™…åº”ç”¨ï¼ŒäºŒè¿›åˆ¶è½¬æ¢
function decimalToBinary(decNumber){
  const remStack = new ObjectBasedStack()
  let num = decNumber
  let rem
  let binaryString = ''

  while(num >0) {
    rem = Math.floor(num % 2)
    remStack.push(rem)
    num = Math.floor(num / 2)
  }

  while (!remStack.isEmpty()) {
    binaryString += `${remStack.pop().toString()}`
  }

  return binaryString
}
console.log('result',decimalToBinary(10)); // result 1010
```

### ä¸‰ã€é˜Ÿåˆ—

é˜Ÿåˆ—ï¼ˆ**Queue**ï¼‰æ˜¯ä¸€ç§**å…ˆè¿›å…ˆå‡º**ï¼ˆ**FIFO, First In First Out**ï¼‰çš„çº¿æ€§æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨å…ƒç´ çš„é›†åˆ

åœ¨é˜Ÿåˆ—ä¸­ï¼Œå…ƒç´ çš„æ·»åŠ ï¼ˆå…¥é˜Ÿï¼‰æ“ä½œå‘ç”Ÿåœ¨ä¸€ç«¯ï¼Œç§°ä¸º**é˜Ÿå°¾**ï¼Œè€Œå…ƒç´ çš„ç§»é™¤ï¼ˆå‡ºé˜Ÿï¼‰æ“ä½œå‘ç”Ÿåœ¨å¦ä¸€ç«¯ï¼Œç§°ä¸º**é˜Ÿé¦–**

é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œåŒ…æ‹¬ï¼š

1. **Enqueueï¼ˆå…¥é˜Ÿï¼‰**ï¼šåœ¨é˜Ÿåˆ—çš„æœ«å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ 
2. **Dequeueï¼ˆå‡ºé˜Ÿï¼‰**ï¼šç§»é™¤é˜Ÿåˆ—å‰ç«¯çš„å…ƒç´ ï¼Œå¹¶è¿”å›è¯¥å…ƒç´ 
3. **Frontï¼ˆæŸ¥çœ‹é˜Ÿé¦–å…ƒç´ ï¼‰**ï¼šè¿”å›é˜Ÿåˆ—é¦–éƒ¨çš„å…ƒç´ ä½†ä¸ç§»é™¤å®ƒ
4. **IsEmptyï¼ˆæ£€æŸ¥é˜Ÿåˆ—ç©ºï¼‰**ï¼šåˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
5. **Sizeï¼ˆé˜Ÿåˆ—çš„å¤§å°ï¼‰**ï¼šè¿”å›é˜Ÿåˆ—ä¸­å…ƒç´ çš„æ•°é‡

ä¸æ ˆç±»ä¼¼ï¼Œé˜Ÿåˆ—çš„è¿™äº›æ“ä½œä¹Ÿé€šå¸¸éƒ½æ˜¯ **O(1)** æ—¶é—´å¤æ‚åº¦ï¼Œå› ä¸ºå®ƒä»¬åªæ¶‰åŠé˜Ÿåˆ—çš„å¤´éƒ¨æˆ–å°¾éƒ¨ï¼Œè€Œä¸éœ€è¦å¤„ç†ä¸­é—´çš„å…ƒç´ 

<img src="https://raw.githubusercontent.com/wanglufei561/picture_repo/master/assets/format%252Cwebp" alt="img" style="zoom:70%;" />

å…·ä½“å®ç°ğŸ‘‡ï¼š

```javascript
class Queue {
  constructor() {
    this.count = 0
    this.lowestCount = 0 // ç”¨äºè®°å½•é˜Ÿå¤´å…ƒç´ 
    this.items = {}
  }

  // è·å–é˜Ÿåˆ—ä¸­å…ƒç´ ä¸ªæ•°
  size(){
    return this.count - this.lowestCount
  }

  // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
  isEmpty() {
    return this.size === 0
  }

  // å‘é˜Ÿåˆ—æ·»åŠ å…ƒç´ 
  enqueue(element){
    this.items(this.count) = element
    this.count++
  }

  // ä»é˜Ÿåˆ—ç§»å‡ºå…ƒç´ 
  dequeue(){
    if(this.isEmpty()) return
    const result = this.items[this.lowestCount]
    delete this.items[this.lowestCount]
    this.lowestCount++
    return result
  }

  // æŸ¥çœ‹é˜Ÿå¤´å…ƒç´ 
  peek(){
    if(this.isEmpty()) return
    return this.items[this.lowestCount]
  }

  // æ¸…ç©ºé˜Ÿåˆ—
  clear(){
    this.items = {}
    this.count = 0
    this.lowestCount = 0
  }

  // æŸ¥çœ‹å…ƒç´ çš„æ–¹æ³•
  toString() {
    if(this.isEmpty()) return
    let objString = `${this.items[this.lowestCount]}`
    for(let i = this.lowestCount+1; i <this.count; i++){
      objString = `${objString},${this.items[i]}`
    }
    return objString
  }
}
```

ä½¿ç”¨ç¤ºä¾‹ï¼š**å‡»é¼“ä¼ èŠ±**

```javascript
/*
å‡»é¼“ä¼ èŠ±
æ‰€æœ‰äººå›´æˆä¸€ä¸ªåœˆï¼ŒæŠŠèŠ±ä¼ é€’ç»™æ—è¾¹çš„äººï¼ŒæŸä¸€æ—¶åˆ»è¿™ä¸ªèŠ±åœ¨è°æ‰‹é‡Œï¼Œè°å°±æ·˜æ±°å‡ºå±€
é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼Œç›´åˆ°å‰©ä¸‹æœ€åä¸€ä¸ªäºº
 */

function hotPotato(list, num){
  const queue = new Queue()
  const eliminatedList = []

  for(let i = 0; i <list.length; i++){
    queue.enqueue(list[i])
  }

  while(queue.size() > 1) {
    for(let i = 0; i < num; i++) {
      queue.enqueue(queue.dequeue()) // ä»é˜Ÿå¤´ç§»å‡ºä¸€é¡¹å¹¶å°†å…¶æ·»åŠ åˆ°é˜Ÿå°¾
    }
    eliminatedList.push(queue.dequeue()) // ä¸€æ—¦è¾¾åˆ°ç»™å®šçš„ä¼ é€’æ¬¡æ•°å°±å°†é˜Ÿé¦–çš„ç§»å‡º
  }

  return {
    eliminated:eliminatedList,
    winner:queue.dequeue()
  }
}

const result = hotPotato(['John','Jack','Li', 'carl', 'James'], 10)
console.log('eliminated', result.eliminated);
// eliminated [ 'John', 'carl', 'Jack', 'Li' ]

console.log('winner', result.winner);
// winner James
```

è¿™ä¸ªç¤ºä¾‹çš„ç²¾é«“åœ¨äºå·§å¦™çš„åˆ©ç”¨äº†é˜Ÿåˆ—çš„å…¥åˆ—å’Œå‡ºåˆ—æœºåˆ¶ï¼Œå°†é˜Ÿé¦–çš„å…ƒç´ å‡ºåˆ—ä¹‹åå†å…¥åˆ—ï¼Œå®ç°äº†ä¸€ä¸ª**å¾ªç¯é˜Ÿåˆ—**

èƒ½å¤ŸæŒ‡å¯¼å®é™…å¼€å‘ä¸­éœ€è¦**å‘¨æœŸæ€§**å¤„ç†æˆ–ç®¡ç†èµ„æºçš„é—®é¢˜ï¼Œå°¤å…¶é€‚åˆäºéœ€è¦**å‡åŒ€**ã€**è¿ç»­å¤„ç†**ä»»åŠ¡æˆ–æ•°æ®çš„åœºæ™¯

<!--åœ¨å®é™…åº”ç”¨æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ JS æ•°ç»„çš„ shift å’Œ push æ–¹æ³•æ¨¡ä»¿é˜Ÿåˆ—çš„å‡ºåˆ—å’Œå…¥åˆ—-->

#### 3.1ã€åŒç«¯é˜Ÿåˆ—

**åŒç«¯é˜Ÿåˆ—**ï¼ˆ**Double-Ended Queue**ï¼‰æ˜¯ä¸€ç§å…·æœ‰é˜Ÿåˆ—å’Œæ ˆæ€§è´¨çš„çº¿æ€§æ•°æ®ç»“æ„

ä¸æ™®é€šé˜Ÿåˆ—åªå…è®¸åœ¨ä¸€ç«¯å…¥é˜Ÿå’Œå¦ä¸€ç«¯å‡ºé˜Ÿä¸åŒï¼ŒåŒå‘é˜Ÿåˆ—å…è®¸åœ¨**ä¸¤ç«¯**éƒ½è¿›è¡Œ**æ·»åŠ **å’Œ**åˆ é™¤**æ“ä½œï¼Œè¿™æä¾›äº†æ›´å¤§çš„çµæ´»æ€§å’Œåº”ç”¨èŒƒå›´

åŒå‘é˜Ÿåˆ—çš„ä¸»è¦æ“ä½œåŒ…æ‹¬ï¼š

1. **æ·»åŠ æ“ä½œ**ï¼š
   - **push_front**ï¼šåœ¨é˜Ÿåˆ—çš„å‰ç«¯æ·»åŠ ä¸€ä¸ªå…ƒç´ 
   - **push_back**ï¼šåœ¨é˜Ÿåˆ—çš„åç«¯æ·»åŠ ä¸€ä¸ªå…ƒç´ 

2. **åˆ é™¤æ“ä½œ**ï¼š
   - **pop_front**ï¼šç§»é™¤é˜Ÿåˆ—å‰ç«¯çš„å…ƒç´ 
   - **pop_back**ï¼šç§»é™¤é˜Ÿåˆ—åç«¯çš„å…ƒç´ 

3. **è®¿é—®æ“ä½œ**ï¼š
   - **front**ï¼šæŸ¥çœ‹é˜Ÿåˆ—å‰ç«¯çš„å…ƒç´ 
   - **back**ï¼šæŸ¥çœ‹é˜Ÿåˆ—åç«¯çš„å…ƒç´ 

4. **è¾…åŠ©æ“ä½œ**ï¼š
   - **isEmpty**ï¼šæ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
   - **size**ï¼šè¿”å›é˜Ÿåˆ—ä¸­çš„å…ƒç´ æ•°é‡

<img src="https://raw.githubusercontent.com/wanglufei561/picture_repo/master/assets/deque_operations.png" alt="åŒå‘é˜Ÿåˆ—çš„æ“ä½œ" style="zoom:50%;" />

```javascript

// åŒç«¯é˜Ÿåˆ—
class Deque {
    constructor() {
        this.count = 0
        this.lowestCount = 0 // ç”¨äºè®°å½•é˜Ÿå¤´å…ƒç´ 
        this.items = {}
    }

    // è·å–é˜Ÿåˆ—ä¸­å…ƒç´ ä¸ªæ•°
    size() {
        return this.count - this.lowestCount
    }

    // æ£€æŸ¥é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º
    isEmpty() {
        return this.size === 0
    }

    // åƒåŒå‘é˜Ÿåˆ—é˜Ÿå°¾æ·»åŠ å…ƒç´ 
    addBack(element) {
        this.items[this.count] = element
        this.count++
    }

    // å‘åŒå‘é˜Ÿåˆ—é˜Ÿé¦–æ·»åŠ å…ƒç´ 
    addFront(element) {
        if (this.isEmpty()) {
            this.addBack(element)
        } else if (this.lowestCount > 0) {
            this.lowestCount--
            this.items[this.lowestCount] = element
        } else {
            for (let i = this.count; i > 0; i--) {
                this.items[i] = this.items[i - 1]
            }
            this.count++
            this.lowestCount = 0
            this.items[0] = element
        }
    }

    // ä»é˜Ÿåˆ—é˜Ÿé¦–ç§»å‡ºå…ƒç´ 
    removeFront() {
        if (this.isEmpty()) return
        const result = this.items[this.lowestCount]
        delete this.items[this.lowestCount]
        this.lowestCount++
        return result
    }

    // ä»é˜Ÿåˆ—é˜Ÿå°¾ç§»é™¤å…ƒç´ 
    removeBack() {
        if (this.isEmpty()) return
        const result = this.items[this.count - 1]
        delete this.items[this.lowestCount - 1]
        this.count--
        return result
    }

    // æŸ¥çœ‹é˜Ÿå¤´å…ƒç´ 
    peekFront() {
        if (this.isEmpty()) return
        return this.items[this.lowestCount]
    }

    // æŸ¥çœ‹é˜Ÿå°¾å…ƒç´ 
    peekBack() {
        if (this.isEmpty()) return
        return this.items[this.count-1]
    }

    // æ¸…ç©ºé˜Ÿåˆ—
    clear() {
        this.items = {}
        this.count = 0
        this.lowestCount = 0
    }

    // æŸ¥çœ‹å…ƒç´ çš„æ–¹æ³•
    toString() {
        if (this.isEmpty()) return
        let objString = `${this.items[this.lowestCount]}`
        for (let i = this.lowestCount + 1; i < this.count; i++) {
            objString = `${objString},${this.items[i]}`
        }
        return objString
    }
}
```

ä½¿ç”¨ç¤ºä¾‹ï¼š**å›æ–‡æ£€æŸ¥å™¨**

> å›æ–‡æ˜¯æ­£åéƒ½èƒ½è¯»é€šçš„å•è¯ï¼Œè¯ç»„ã€æ•°å­—æˆ–è€…ä¸€ç³»åˆ—å­—ç¬¦çš„åºåˆ—ï¼Œä¾‹å¦‚ madam æˆ– racecar

```javascript
function palindromeChecker(aString) {
    if (aString === undefined || aString === null || aString.length === 0) return false

    const queue = new Deque()
    const lowerString = aString.toLocaleLowerCase().split(' ').join('')
    let isEqual = true
    let firstChar, lastChar

    for(let i=0; i<lowerString.length ; i++){
      queue.addBack(lowerString.charAt(i))
    }

    while(queue.size() > 1 && isEqual) {
      firstChar = queue.removeFront()
      lastChar = queue.removeBack()
      if(firstChar !== lastChar) {
        isEqual = false
      }
    }

    return isEqual
}

console.log('level', palindromeChecker('level')); // true
console.log('kaka', palindromeChecker('kaka')); // false
```

<!--åœ¨å®é™…åº”ç”¨æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ JS æ•°ç»„çš„ shift å’Œ pop æ–¹æ³•æ¨¡ä»¿åŒç«¯é˜Ÿåˆ—çš„é˜Ÿé¦–å‡ºåˆ—å’Œé˜Ÿå°¾å‡ºåˆ—ï¼Œunshift å’Œ push æ¨¡ä»¿é˜Ÿé¦–å…¥åˆ—å’Œé˜Ÿå°¾å…¥åˆ—-->

### å››ã€é“¾è¡¨

é“¾è¡¨ï¼ˆ**Linked List**ï¼‰æ˜¯ä¸€ç§çº¿æ€§æ•°æ®ç»“æ„ï¼Œç”±ä¸€ç³»åˆ—èŠ‚ç‚¹ï¼ˆ**Node**ï¼‰ç»„æˆï¼Œè¿™äº›èŠ‚ç‚¹é€šè¿‡æŒ‡é’ˆè¿æ¥åœ¨ä¸€èµ·ï¼›æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸¤éƒ¨åˆ†ï¼šæ•°æ®ï¼ˆæ•°æ®åŸŸï¼‰å’ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼ˆæŒ‡é’ˆåŸŸï¼‰

é“¾è¡¨å¯ä»¥åˆ†ä¸ºå‡ ç§ä¸»è¦ç±»å‹ï¼š

1. **å•å‘é“¾è¡¨ï¼ˆSingly Linked Listï¼‰**ï¼š
   - æ¯ä¸ªèŠ‚ç‚¹åªåŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
   - æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘`null`ï¼Œè¡¨ç¤ºé“¾è¡¨çš„æœ«å°¾
2. **åŒå‘é“¾è¡¨ï¼ˆDoubly Linked Listï¼‰**ï¼š
   - æ¯ä¸ªèŠ‚ç‚¹åŒ…å«ä¸¤ä¸ªæŒ‡é’ˆï¼šä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹
   - è¿™ç§ç»“æ„å…è®¸ä»é“¾è¡¨çš„ä»»æ„èŠ‚ç‚¹å‘å‰æˆ–å‘åéå†
3. **å¾ªç¯é“¾è¡¨ï¼ˆCircular Linked Listï¼‰**ï¼š
   - é“¾è¡¨ä¸­çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªç¯çŠ¶ç»“æ„
   - å¯ä»¥æ˜¯å•å‘å¾ªç¯é“¾è¡¨ï¼Œä¹Ÿå¯ä»¥æ˜¯åŒå‘å¾ªç¯é“¾è¡¨

<img src="https://raw.githubusercontent.com/wanglufei561/picture_repo/master/assets/linkedlist_common_types.png" alt="å¸¸è§é“¾è¡¨ç§ç±»" style="zoom:50%;" />

#### 4.1ã€å•å‘é“¾è¡¨

å…·ä½“å®ç°ğŸ‘‡ï¼š

```javascript
function defaultEquals(a, b) {
  return a === b
}

class Node {
  constructor(element) {
    this.element = element
    this.next = undefined // æŒ‡é’ˆ
  }
}

class LinkedList {
  constructor(equalsFn = defaultEquals) {
    this.count = 0
    this.head = undefined // ç”¨äºè®°å½•è¡¨å¤´
    this.equalsFn = equalsFn
  }

  // å‘é“¾è¡¨å°¾æ·»åŠ ä¸€ä¸ªå…ƒç´ 
  push(element) {
    const node = new Node(element)
    let current
    if (this.head === undefined) {
      this.head = node
    } else {
      current = this.head
      // æ‰¾åˆ°è¡¨å°¾çš„å…ƒç´ 
      while (current.next !== undefined) {
        current = current.next
      }
      current.next = node
    }
    this.count++
  }

  // è¿”å›é“¾è¡¨ä¸­ç‰¹å®šä½ç½®çš„å…ƒç´ 
  getElementAt(index) {
    if (index >= 0 && index <= this.count) {
      let node = this.head
      for (let i = 0; i < index && node !== null; i++) {
        node = node.next
      }
      return node
    }
    return undefined
  }

  // å‘é“¾è¡¨ç‰¹å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ 
  insert(element, index) {
    if (index >= 0 && index <= this.count) {
      const node = new Node(element)
      if (index === 0) { // è¡¨å¤´æ’å…¥
        const current = this.head
        node.next = current
        this.head = node
      } else { // å…¶ä»–ä½ç½®æ’å…¥
        const previous = this.getElementAt(index - 1)
        const current = previous.next
        previous.next = node
        node.next = current
      }
      this.count++
      return true
    }
    return false
  }

  // ä»é“¾è¡¨æŒ‡å®šä½ç½®ç§»å‡ºä¸€ä¸ªå…ƒç´ 
  removeAt(index) {
    if (index >= 0 && index <= this.count) {
      let current = this.head
      if (index === 0) { // è¡¨å¤´ç§»å‡º
        this.head = current.next
      } else { // å…¶ä»–ä½ç½®ç§»å‡º
        const previous = this.getElementAt(index - 1)
        current = previous.next
        previous.next = current.next
      }
      this.count--
      return current.element
    }
    return undefined
  }

  // è¿”å›å…ƒç´ åœ¨é“¾è¡¨ä¸­çš„ç´¢å¼•
  indexOf(element) {
    let current = this.head
    for (let i = 0; i < this.count && current !== null; i++) {
      if (this.equalsFn(element, current.element)) return i
      current = current.next
    }
    return -1
  }

  // ä»é“¾è¡¨ä¸­ç§»å‡ºä¸€ä¸ªå…ƒç´ 
  remove(element) {
    const index = this.indexOf(element)
    this.removeAt(index)
  }

  // è¿”å›é“¾è¡¨å…ƒç´ ä¸ªæ•°
  size() {
    return this.count
  }

  // æ£€æŸ¥é“¾è¡¨æ˜¯å¦ä¸ºç©º
  isEmpty() {
    return this.size() === 0
  }

  // è¿”å›è¡¨ç¤ºæ•´ä¸ªé“¾è¡¨çš„å­—ç¬¦ä¸²
  toString() {
    if (this.head === undefined) {
      return ''
    }
    let objString = `${this.head.element}`
    let current = this.head.next
    for (let i = 1; i < this.size() && current !== undefined; i++) {
      objString = `${objString}${current.next.element}`
      current = current.next
    }
    return objString
  }
}
```

#### 4.2ã€åŒå‘é“¾è¡¨

åœ¨å•å‘é“¾è¡¨ä¸­ï¼Œè‹¥æ˜¯è¿­ä»£é”™è¿‡äº†è¦æ‰¾çš„å…ƒç´ ï¼Œå°±éœ€è¦å›åˆ°èµ·ç‚¹ï¼Œä»æ–°å¼€å§‹è¿­ä»£

è€ŒåŒå‘é“¾è¡¨åˆ™ä¸éœ€è¦ï¼Œç›¸è¾ƒäºå•å‘é“¾è¡¨ï¼ŒåŒå‘é“¾è¡¨æ›´å…·çµæ´»æ€§ï¼Œå¯ä»¥æœä¸¤ä¸ªæ–¹å‘éå†é“¾è¡¨ï¼Œå³å¯ä»¥ä»å¤´åˆ°å°¾éå†ï¼Œä¹Ÿå¯ä»¥ä»å°¾åˆ°å¤´éå†

**åŒå‘é“¾è¡¨çš„ç»“æ„ï¼š**

ä¸€ä¸ªåŒå‘é“¾è¡¨çš„èŠ‚ç‚¹é€šå¸¸åŒ…å«ä»¥ä¸‹ä¸‰ä¸ªéƒ¨åˆ†ï¼š

1. **æ•°æ®åŸŸï¼ˆdataï¼‰**ï¼šå­˜å‚¨èŠ‚ç‚¹çš„æ•°æ®ã€‚
2. **å‰é©±æŒ‡é’ˆï¼ˆprevï¼‰**ï¼šæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ã€‚
3. **åç»§æŒ‡é’ˆï¼ˆnextï¼‰**ï¼šæŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹ã€‚

```mathematica
[prev | data | next] <-> [prev | data | next] <-> [prev | data | next]
```

å…·ä½“å®ç°ğŸ‘‡ï¼š

```javascript
class DoublyNode extends Node {
  constructor(element, next, prev) {
    super(element, next)
    this.prev = prev
  }
}

// åŒå‘é“¾è¡¨
class DoubleLinkedList {
  constructor(equalsFn = defaultEquals) {
    super(equalsFn)
    this.tail = undefined // æŒ‡å‘å°¾éƒ¨å…ƒç´ 
  }

  // åœ¨ä»»æ„ä½ç½®æ’å…¥æ–°å…ƒç´ 
  insert(element, index) {
    if (index >= 0 && index <= this.count) {
      const node = new DoublyNode(element)
      let current = this.head
      if (index === 0) {
        // å¤´éƒ¨
        if (this.head === undefined) {
          this.head = node
          this.tail = node
        } else {
          node.next = this.head
          current.prev = node
          this.head = node
        }
      } else if (index === count) {
        // å°¾éƒ¨
        current = this.tail
        current.next = node
        node.prev = current
        this.tail = node
      } else {
        // ä¸­é—´
        const previous = this.getElementAt(index - 1) // å½“å‰ index å‰é¢çš„å…ƒç´ 
        current = previous.next // å½“å‰ index ä½ç½®å¤„çš„å…ƒç´ 
        node.next = current
        previous.next = node
        current.prev = node
        node.prev = previous
      }
      this.count++
      return true
    }
    return false
  }

  // ä»ä»»æ„ä½ç½®ç§»å‡ºå…ƒç´ 
  removeAt(index) {
    if (index >= 0 && index <= this.count) {
      let current = this.head
      if (index === 0) {
        // å¤´éƒ¨
        this.head = current.next // head æŒ‡å‘åä¸€ä¸ªå…ƒç´ 
        if (this.count === 1) {
          // åªæœ‰ä¸€ä¸ªå…ƒç´ 
          this.tail = undefined
        } else {
          this.head.prev = undefined
        }
      } else if (index === this.count - 1) {
        // å°¾éƒ¨
        current = this.tail
        this.tail = current.prev // tail æŒ‡å‘å‰ä¸€ä¸ªå…ƒç´ 
        this.tail.next = undefined // å–æ¶ˆå‰ä¸€ä¸ªå…ƒç´ çš„ next æŒ‡å‘
      } else {
        // ä¸­é—´
        current = this.getElementAt(index)
        const previous = current.prev
        previous.next = current.next // å‰ä¸€ä¸ªå…ƒç´ çš„ next æŒ‡å‘åä¸€ä¸ªå…ƒç´ 
        current.next.prev = previous // åä¸€ä¸ªå…ƒç´ çš„ prev æŒ‡å‘å‰ä¸€ä¸ªå…ƒç´ 
      }
      this.count--
      return current.element
    }
    return undefined
  }
}
```

#### 4.3ã€å¾ªç¯é“¾è¡¨

å¾ªç¯é“¾è¡¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„é“¾è¡¨ç»“æ„ï¼Œå…¶ä¸­é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘é“¾è¡¨çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä»è€Œå½¢æˆä¸€ä¸ªç¯çŠ¶ç»“æ„

è¿™ç§ç»“æ„å…è®¸ä»é“¾è¡¨ä¸­çš„ä»»ä½•èŠ‚ç‚¹å¼€å§‹éå†ï¼Œä¸”å¯ä»¥åœ¨é“¾è¡¨ä¸­å¾ªç¯å¾€å¤åœ°è¿›è¡Œæ“ä½œ

**å¾ªç¯é“¾è¡¨çš„ç±»å‹**

å¾ªç¯é“¾è¡¨å¯ä»¥åˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ä¸»è¦ç±»å‹ï¼š

1. **å•å‘å¾ªç¯é“¾è¡¨ï¼ˆSingly Circular Linked Listï¼‰**ï¼š
   - æ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹
   - æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªç¯
2. **åŒå‘å¾ªç¯é“¾è¡¨ï¼ˆDoubly Circular Linked Listï¼‰**ï¼š
   - æ¯ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªæŒ‡é’ˆï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹
   - æœ€åä¸€ä¸ªèŠ‚ç‚¹çš„åç»§æŒ‡é’ˆæŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹çš„å‰é©±æŒ‡é’ˆæŒ‡å‘æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå½¢æˆä¸€ä¸ªåŒå‘ç¯

å•å‘å¾ªç¯é“¾è¡¨çš„å®ç°ğŸ‘‡ï¼š

```javascript
class CircularLinkedList extends LinkedList {
  constructor(equalsFn = defaultEquals) {
    super(equalsFn)
  }

  // æŒ‡å®šä½ç½®æ’å…¥ä¸€ä¸ªå…ƒç´ 
  insert(element, index) {
    if (index >= 0 && index <= this.count) {
      const node = new Node(element)
      let current = this.head
      if (index === 0) {
        if (this.head === null) {
          this.head = node
          node.next = this.head
        } else {
          node.next = current
          current = this.getElementAt(this.size())
          this.head = node
          current.next = this.head
        }
      } else {
        const previous = this.getElementAt(index - 1)
        node.next = previous.next
        previous.next = node
      }
      this.count++
      return true
    }
    return false
  }

  // æŒ‡å®šä½ç½®åˆ é™¤ä¸€ä¸ªå…ƒç´ 
  removeAt(index) {
    if (index >= 0 && index <= this.count) {
      let current = this.head
      if (index === 0) {
        if (this.size() === 1) {
          this.head = null
        } else {
          const removed = this.head
          current = this.getElementAt(this.size())
          this.head = this.head.next
          current.next = this.head
          current = removed
        }
      } else {
        const previous = this.getElementAt(index - 1)
        current = previous.next
        previous.next = current.next
      }
      this.count--
      return current.element
    }
    return undefined
  }
}
```

### äº”ã€å“ˆå¸Œè¡¨

**å“ˆå¸Œè¡¨**ï¼ˆ**Hash Table**ï¼‰æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œé€šè¿‡å°†é”®ï¼ˆ**Key**ï¼‰æ˜ å°„åˆ°å€¼ï¼ˆ**Value**ï¼‰ï¼Œèƒ½å¤Ÿå®ç°å¿«é€Ÿçš„æ•°æ®æŸ¥æ‰¾ã€æ’å…¥å’Œåˆ é™¤ï¼›å“ˆå¸Œè¡¨ä½¿ç”¨ä¸€ç§ç§°ä¸º**å“ˆå¸Œå‡½æ•°**çš„ç®—æ³•ï¼Œ**å°†é”®è½¬æ¢ä¸ºæ•°ç»„ä¸­çš„ç´¢å¼•**ï¼Œä»è€Œåœ¨å¸¸æ•°æ—¶é—´å†…ï¼ˆå¹³å‡æƒ…å†µä¸‹ï¼‰å®Œæˆè¿™äº›æ“ä½œ

<!--ä»å“ˆå¸Œè¡¨çš„å®šä¹‰æ¥çœ‹ï¼ŒJS è¯­è¨€æœ¬èº«å°±æœ‰è¿™ç§æ•°æ®ç»“æ„ï¼Œç®€å•ç‚¹çš„å°±æ˜¯æ•°ç»„å’Œå¯¹è±¡ï¼Œè‹¥æ˜¯å¸Œæœ›é”®ï¼ˆKeyï¼‰ä¸ºå…¶ä»–ç±»å‹ï¼Œè¿˜æœ‰ Set å’Œ Map è¿™ä¸¤ç§æ•°æ®ç±»å‹-->

**å“ˆå¸Œè¡¨çš„åŸºæœ¬æ¦‚å¿µï¼š**

1. **å“ˆå¸Œå‡½æ•°ï¼ˆHash Functionï¼‰**ï¼š
   - å°†è¾“å…¥çš„é”®è½¬æ¢ä¸ºå“ˆå¸Œç ï¼ˆé€šå¸¸æ˜¯æ•´æ•°ï¼‰ï¼Œç„¶åä½¿ç”¨è¯¥å“ˆå¸Œç æ¥è®¡ç®—æ•°ç»„çš„ç´¢å¼•
   - ä¸€ä¸ªå¥½çš„å“ˆå¸Œå‡½æ•°åº”å½“å°½é‡é¿å…å“ˆå¸Œå†²çªï¼Œä½¿å¾—ä¸åŒçš„é”®å°½å¯èƒ½æ˜ å°„åˆ°ä¸åŒçš„ç´¢å¼•
2. **å“ˆå¸Œå†²çªï¼ˆHash Collisionï¼‰**ï¼š
   - å½“ä¸¤ä¸ªä¸åŒçš„é”®é€šè¿‡å“ˆå¸Œå‡½æ•°æ˜ å°„åˆ°ç›¸åŒçš„ç´¢å¼•æ—¶ï¼Œç§°ä¸ºå“ˆå¸Œå†²çª
   - å¸¸è§çš„è§£å†³å“ˆå¸Œå†²çªçš„æ–¹æ³•æœ‰é“¾åœ°å€æ³•å’Œå¼€æ”¾åœ°å€æ³• <!--ç”¨åˆ°å†äº†è§£-->



